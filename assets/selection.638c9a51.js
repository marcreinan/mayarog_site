import{x as S,a6 as O,w as p,e as v,M as g,aq as z,ah as P,c as x,a1 as b,ar as R,as as L,r as H,E as C,n as y,i as M,at as Q}from"./index.c7030ef6.js";const{passive:w}=b,q=["both","horizontal","vertical"];var N=S({name:"QScrollObserver",props:{axis:{type:String,validator:e=>q.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:O},emits:["scroll"],setup(e,{emit:m}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,r,c;p(()=>e.scrollTarget,()=>{o(),d()});function l(){i!==null&&i();const u=Math.max(0,R(r)),f=L(r),s={top:u-t.position.top,left:f-t.position.left};if(e.axis==="vertical"&&s.top===0||e.axis==="horizontal"&&s.left===0)return;const h=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";t.position={top:u,left:f},t.directionChanged=t.direction!==h,t.delta=s,t.directionChanged===!0&&(t.direction=h,t.inflectionPoint=t.position),m("scroll",{...t})}function d(){r=P(c,e.scrollTarget),r.addEventListener("scroll",n,w),n(!0)}function o(){r!==void 0&&(r.removeEventListener("scroll",n,w),r=void 0)}function n(u){if(u===!0||e.debounce===0||e.debounce==="0")l();else if(i===null){const[f,s]=e.debounce?[setTimeout(l,e.debounce),clearTimeout]:[requestAnimationFrame(l),cancelAnimationFrame];i=()=>{s(f),i=null}}}const{proxy:a}=x();return p(()=>a.$q.lang.rtl,l),v(()=>{c=a.$el.parentNode,d()}),g(()=>{i!==null&&i(),o()}),Object.assign(a,{trigger:n,getPosition:()=>t}),z}});function A(){const e=H(!C.value);return e.value===!1&&v(()=>{e.value=!0}),{isHydrated:e}}const E=typeof ResizeObserver!="undefined",T=E===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var V=S({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:m}){let t=null,i,r={width:-1,height:-1};function c(o){o===!0||e.debounce===0||e.debounce==="0"?l():t===null&&(t=setTimeout(l,e.debounce))}function l(){if(t!==null&&(clearTimeout(t),t=null),i){const{offsetWidth:o,offsetHeight:n}=i;(o!==r.width||n!==r.height)&&(r={width:o,height:n},m("resize",r))}}const{proxy:d}=x();if(d.trigger=c,E===!0){let o;const n=a=>{i=d.$el.parentNode,i?(o=new ResizeObserver(c),o.observe(i),l()):a!==!0&&y(()=>{n(!0)})};return v(()=>{n()}),g(()=>{t!==null&&clearTimeout(t),o!==void 0&&(o.disconnect!==void 0?o.disconnect():i&&o.unobserve(i))}),z}else{let a=function(){t!==null&&(clearTimeout(t),t=null),n!==void 0&&(n.removeEventListener!==void 0&&n.removeEventListener("resize",c,b.passive),n=void 0)},u=function(){a(),i&&i.contentDocument&&(n=i.contentDocument.defaultView,n.addEventListener("resize",c,b.passive),l())};const{isHydrated:o}=A();let n;return v(()=>{y(()=>{i=d.$el,i&&u()})}),g(a),()=>{if(o.value===!0)return M("object",{class:"q--avoid-card-border",style:T.style,tabindex:-1,type:"text/html",data:T.url,"aria-hidden":"true",onLoad:u})}}}});function $(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Q.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}export{N as Q,V as a,$ as c};
